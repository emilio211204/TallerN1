<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Reserva</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body>
<div class="container mt-4">
    <h2 th:text="${reserva.id} != null ? 'Editar Reserva' : 'Nueva Reserva'"></h2>
    <form th:action="@{${reserva.id} != null ? '/reservas/editar/' + ${reserva.id} : '/reservas/nueva'}"
          th:object="${reserva}" method="post">
        <div class="mb-3">
            <label for="cliente" class="form-label">Cliente</label>
            <select class="form-select" id="cliente" th:field="*{cliente}" required>
                <option th:each="c : ${clientes}" th:value="${c.id}"
                        th:text="${c.nombre} + ' ' + ${c.apellido}"
                        th:selected="${reserva.cliente != null} ? ${reserva.cliente.id} == ${c.id} : false">
                </option>
            </select>
        </div>
        <div class="mb-3">
            <label for="habitacion" class="form-label">Habitaci√≥n</label>
            <select class="form-select" id="habitacion" th:field="*{habitacion}" required>
                <option th:each="h : ${habitaciones}" th:value="${h.id}"
                        th:text="${h.numero} + ' - ' + ${h.tipo}"
                        th:selected="${reserva.habitacion != null} ? ${reserva.habitacion.id} == ${h.id} : false">
                </option>
            </select>
        </div>
        <div class="mb-3">
            <label for="fechaInicio" class="form-label">Fecha de Inicio</label>
            <input type="date" class="form-control" id="fechaInicio" th:field="*{fechaInicio}" required>
        </div>
        <div class="mb-3">
            <label for="fechaFin" class="form-label">Fecha de Fin</label>
            <input type="date" class="form-control" id="fechaFin" th:field="*{fechaFin}" required>
        </div>
        <button type="submit" class="btn btn-success">Guardar</button>
        <a th:href="@{/reservas/lista}" class="btn btn-secondary">Cancelar</a>
    </form>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
